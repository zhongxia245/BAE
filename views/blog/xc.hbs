<!--content start-->
<div id="content_xc">
    <div class="weizi">
        <div class="wz_text">当前位置：<a href="#">首页</a>>
            <h1>相册展示</h1></div>
    </div>
    <div class="xc_content">
        <div class="con-bg">
            <div class="w960 mt_10">
                <div class="w650">
                    <ul class="tips" id="wf-main" style="display:none">
                        <!-- load img -->
                        {{#each items}}
                        <li class="wf-cld"><img src="{{imgPath}}" width="200" alt="" /></li>
                        {{/each}}
                        <!-- load img end-->
                        <!-- lazy load img -->
                        {{#each lazyItems}}
                        <li class="wf-cld"><img rel="lazy" lazy_src="{{imgPath}}" width="200" alt="" /></li>
                        {{/each}}
                        <!-- lazy load img end-->
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!--content end-->
<script type="text/javascript" src="blog/js/common.js"></script>
<script type="text/javascript" src="blog/js/waterfall.js"></script>
<script type="text/javascript">
jQuery(".lanmubox").slide({
    easing: "easeOutBounce",
    delayTime: 400
});
</script>
<script type="text/javascript" src="blog/js/nav.js"></script>
<script>
var timer, m = 0,
    m1 = $("img[rel='lazy']").length;

function fade() {
    $("img[rel='lazy']").each(function() {
        var $scroTop = $(this).offset();
        if ($scroTop.top <= $(window).scrollTop() + $(window).height()) {
            $(this).hide();
            $(this).attr("src", $(this).attr("lazy_src"));
            $(this).attr("top", $scroTop.top);
            $(this).removeAttr("rel");
            $(this).removeAttr("lazy_src");
            $(this).fadeIn(600);
            var _left = $(this).parent().parent().attr("_left");
            if (_left != undefined)
                $(this).parent().parent().animate({
                    left: _left
                }, 400);
            m++;
        }
    });
    if (m < m1) {
        timer = window.setTimeout(fade, 300);
    } else {
        window.clearTimeout(timer);
    }
}

$(function() {
    $("#wf-main img[rel='lazy']").each(function(i) {
        var _left = $(this).parent().parent().css("left").replace("px", "");
        $(this).parent().parent().attr("_left", _left);
        $(this).parent().parent().css("left", 0);
    });
    fade();
});
$(".loading").hide();
$("#wf-main").show();
</script>
